import React, {useState} from 'react';import axios from 'axios';import { API_BASE } from './config';export default function ChatBox(){const [open,setOpen]=useState(true);const [msgs,setMsgs]=useState([{from:'bot',text:'Hi â€” ask me anything.'}]);const [text,setText]=useState('');const send=async ()=>{if(!text.trim())return;setMsgs(m=>[...m,{from:'user',text}]);try{const r=await axios.post(API_BASE+'/chat',{message:text});setMsgs(m=>[...m,{from:'bot',text:r.data.reply}]);}catch(e){setMsgs(m=>[...m,{from:'bot',text:'Chat error.'}]);}setText('');};return (<div style={{position:'fixed',right:18,bottom:18}}><div style={{display:'flex',justifyContent:'flex-end'}}><button className='btn' onClick={()=>setOpen(o=>!o)}>{open? 'Close Chat' : 'Open Chat'}</button></div>{open && (<div className='chat' style={{width:360}}><h4>AI Assistant</h4><div className='chat-messages'>{msgs.map((m,i)=>(<div key={i}><b>{m.from}:</b> {m.text}</div>))}</div><div style={{display:'flex',gap:8,marginTop:8}}><input value={text} onChange={e=>setText(e.target.value)} style={{flex:1,padding:8}} placeholder='Ask anything...' /><button className='btn' onClick={send}>Send</button></div></div>)} </div>); }